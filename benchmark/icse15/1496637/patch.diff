diff --git a/lucene/dev/branches/branch_4x/lucene/core/src/test/org/apache/lucene/index/TestMaxTermFrequency.java b/lucene/dev/branches/branch_4x/lucene/core/src/test/org/apache/lucene/index/TestMaxTermFrequency.java
index 806145e4..97dc661e 100644
--- a/lucene/dev/branches/branch_4x/lucene/core/src/test/org/apache/lucene/index/TestMaxTermFrequency.java
+++ b/lucene/dev/branches/branch_4x/lucene/core/src/test/org/apache/lucene/index/TestMaxTermFrequency.java
@@ -107,7 +107,7 @@ public float lengthNorm(FieldInvertState state) {
 
     @Override
     public long encodeNormValue(float f) {
-      return (long) f;
+      return (byte) f;
     }
 
     @Override
