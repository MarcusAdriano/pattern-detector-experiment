diff --git a/wicket-core/src/main/java/org/apache/wicket/markup/resolver/WicketMessageResolver.java b/wicket-core/src/main/java/org/apache/wicket/markup/resolver/WicketMessageResolver.java
index 03d7acd..fa4122a 100644
--- a/wicket-core/src/main/java/org/apache/wicket/markup/resolver/WicketMessageResolver.java
+++ b/wicket-core/src/main/java/org/apache/wicket/markup/resolver/WicketMessageResolver.java
@@ -347,7 +348,8 @@ protected String getValue(final String variableName)
 					// If it a tag like <wicket..> or <span wicket:id="..." >
 					if ((element instanceof ComponentTag) && !markupStream.atCloseTag())
 					{
-						String id = ((ComponentTag)element).getId();
+						ComponentTag currentTag = (ComponentTag)element;
+						String id = currentTag.getId();
 
 						// Temporarily replace the web response with a String response
 						final Response webResponse = getResponse();
@@ -358,6 +360,18 @@ protected String getValue(final String variableName)
 							getRequestCycle().setResponse(response);
 
 							Component component = getParent().get(id);
+							if (component == null)
+							{
+								component = ComponentResolvers.resolve(getParent(), markupStream,
+									currentTag, null);
+
+								// Must not be a Page and it must be connected to a parent.
+								if (component.getParent() == null)
+								{
+									component = null;
+								}
+							}
+
 							if (component != null)
 							{
 								component.render();
