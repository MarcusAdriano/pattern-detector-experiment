diff --git a/wicket/src/main/java/org/apache/wicket/markup/html/form/Form.java b/wicket/src/main/java/org/apache/wicket/markup/html/form/Form.java
index 521e014..a1d958f 100644
--- a/wicket/src/main/java/org/apache/wicket/markup/html/form/Form.java
+++ b/wicket/src/main/java/org/apache/wicket/markup/html/form/Form.java
@@ -1238,12 +1238,16 @@ public Object component(final Component component)
 			}
 		};
 
-		visitChildren(FormComponent.class, new IVisitor<Component>()
+		visitChildren(Component.class, new IVisitor<Component>()
 		{
 			public Object component(final Component component)
 			{
+				if ((component instanceof Form) || (component instanceof FormComponent))
+				{
 					return visitor.component(component);
 				}
+				return Component.IVisitor.CONTINUE_TRAVERSAL;
+			}
 		});
 
 		if (!error[0])
