diff --git a/wicket/src/main/java/org/apache/wicket/protocol/http/MockHttpServletRequest.java b/wicket/src/main/java/org/apache/wicket/protocol/http/MockHttpServletRequest.java
index 7b240c6..b998156 100644
--- a/wicket/src/main/java/org/apache/wicket/protocol/http/MockHttpServletRequest.java
+++ b/wicket/src/main/java/org/apache/wicket/protocol/http/MockHttpServletRequest.java
@@ -1255,6 +1255,16 @@ else if (component instanceof IOnChangeListener)
 					.get(clazz);
 
 				String auto = component.getRequestCycle().urlFor(component, rli).toString();
+
+				// check for crypted strategy
+				if (auto.startsWith("?x="))
+				{
+					auto = auto.substring(3);
+					parameters.put("x", auto);
+					parameters.remove(WebRequestCodingStrategy.INTERFACE_PARAMETER_NAME);
+				}
+				else
+				{
 					int idx = auto.indexOf(WebRequestCodingStrategy.INTERFACE_PARAMETER_NAME);
 					if (idx >= 0)
 					{
@@ -1263,22 +1273,14 @@ else if (component instanceof IOnChangeListener)
 					}
 					else
 					{
-					// additional check for crypted strategy
-					idx = auto.indexOf("x=6*");
-					if (idx >= 0)
-					{
-						auto = auto.substring(idx + 4);
-					}
-				}
-
 						idx = auto.indexOf("&");
 						if (idx >= 0)
 						{
 							auto = auto.substring(0, idx);
 						}
-
+					}
 					parameters.put(WebRequestCodingStrategy.INTERFACE_PARAMETER_NAME, auto);
-
+				}
 			}
 			catch (Exception e)
 			{
