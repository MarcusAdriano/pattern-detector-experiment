diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/core/RootImpl.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/core/RootImpl.java
index abda5d2..a868959 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/core/RootImpl.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/core/RootImpl.java
@@ -225,9 +225,7 @@ void purge() {
      * All registered {@link PurgeListener}s are notified.
      */
     private void purgePendingChanges() {
-        if (hasPendingChanges()) {
         branch.setRoot(rootTree.getNodeState());
-        }
         notifyListeners();
     }
 
diff --git a/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/KernelNodeStoreBranch.java b/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/KernelNodeStoreBranch.java
index 79ffaff..63b1ec5 100644
--- a/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/KernelNodeStoreBranch.java
+++ b/oak-core/src/main/java/org/apache/jackrabbit/oak/kernel/KernelNodeStoreBranch.java
@@ -80,9 +80,11 @@ public NodeState getBase() {
 
     @Override
     public void setRoot(NodeState newRoot) {
+        if (!currentRoot.equals(newRoot)) {
             currentRoot = newRoot;
             commit(buildJsop());
         }
+    }
 
     @Override
     public boolean move(String source, String target) {
